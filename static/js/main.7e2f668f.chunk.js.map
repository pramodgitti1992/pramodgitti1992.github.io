{"version":3,"sources":["Components/common/AccordionComponent.js","Components/utils/Utils.js","Components/SmartDropDownSearch.js","Components/utils/Axios.js","Components/App.js","index.js"],"names":["AccordionComponent","props","Accordion","defaultActiveKey","Card","Toggle","eventKey","title","className","Collapse","Body","children","filterCountries","countryList","CountryInput","displayCountryList","country","indexOf","push","SmartDropDownSearch","searchCountry","value","a","setState","state","increaseDispLimit","newlimit","displayLimit","noOfItems","fnAddCountry","disableAddBtn","addAndSelectHandler","this","searchField","focus","prevProps","privilidge","aria-hidden","type","onChange","e","target","ref","d","slice","map","index","key","onClick","length","disabled","Component","axios","create","baseURL","responseType","App","fnGetCountryList","Axios","get","result","status","alert","data","countries","flag","response","selectedCountry","changeUser","val","loggedInAs","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6TAsBeA,MAlBf,SAA4BC,GAC1B,OACE,kBAACC,EAAA,EAAD,CAAWC,iBAAiB,KAC1B,kBAACC,EAAA,EAAD,KACE,kBAACF,EAAA,EAAUG,OAAX,CAAkBC,SAAS,KACxBL,EAAMM,MACP,uBAAGC,UAAU,sBAEf,kBAACN,EAAA,EAAUO,SAAX,CAAoBH,SAAS,KAC3B,kBAACF,EAAA,EAAKM,KAAN,KACGT,EAAMU,c,QCdZ,SAASC,EAAgBC,EAAYC,GAC1C,IADuD,EACnDC,EAAqB,GAD8B,cAEpCF,GAFoC,IAEvD,IAAI,EAAJ,qBAA+B,CAAC,IAAxBG,EAAuB,QAC1BA,EAAQC,QAAQH,IAAiB,GAClCC,EAAmBG,KAAKF,IAJ2B,8BAOvD,OAAOD,E,IC6EMI,E,kDA/Eb,WAAYlB,GAAO,IAAD,8BAChB,cAAMA,IAyBRmB,cA1BkB,uCA0BF,WAAMC,GAAN,mBAAAC,EAAA,sEACR,EAAKC,SAAS,CAACT,aAAeO,IADtB,OAERR,EAAc,EAAKZ,MAAMY,YACzBC,EAAe,EAAKU,MAAMV,aAC1BC,EAAqBH,EAAgBC,EAAYC,GACvD,EAAKS,SAAS,CAACR,uBALD,2CA1BE,wDAkClBU,kBAAoB,WAClB,IACMC,EADW,EAAKF,MAAMG,aACA,EAAK1B,MAAM2B,UACvC,EAAKL,SAAS,CAACI,aAAcD,KArCb,EAwClBG,aAxCkB,sBAwCH,4BAAAP,EAAA,6DACLR,EAAiB,EAAKU,MAAtBV,aADK,SAEP,EAAKS,SAAS,CAClBO,eAAe,IAHJ,OAKb,EAAK7B,MAAM8B,oBAAoBjB,EAAc,OALhC,2CAtCb,EAAKU,MAAM,CACTV,aAAa,GACbC,mBAAoB,EAAKd,MAAMY,YAC/Bc,aAAc,EAAK1B,MAAM2B,UACzBE,eAAe,GAND,E,gEAWhBE,KAAKC,YAAYC,U,kFAGMC,G,oEACpBA,EAAUtB,cAAgBmB,KAAK/B,MAAMY,Y,oBACnCmB,KAAK/B,MAAMY,Y,gCACNmB,KAAKT,SAAS,CAClBR,mBAAqBiB,KAAK/B,MAAMY,YAChCiB,eAAe,I,OAEjBE,KAAKZ,cAAcY,KAAKR,MAAMV,c,sIA2B3B,IAAD,SACoEkB,KAAKR,MAAvEV,EADF,EACEA,aAAcC,EADhB,EACgBA,mBAAoBY,EADpC,EACoCA,aAAcG,EADlD,EACkDA,cADlD,EAEiDE,KAAK/B,MAApD2B,EAFF,EAEEA,UAAWQ,EAFb,EAEaA,WAAYL,EAFzB,EAEyBA,oBAC/B,OACE,yBAAKvB,UAAU,gBACb,kBAAC,EAAD,CAAoBD,MAAM,qBACxB,uBAAGC,UAAU,eAAe6B,cAAY,SACxC,2BAAOC,KAAK,OAAOjB,MAAOP,EACxByB,SAAU,SAAAC,GAAC,OAAI,EAAKpB,cAAcoB,EAAEC,OAAOpB,QAC3CqB,IAAK,SAAAC,GAAC,OAAE,EAAKV,YAAYU,KAE3B,yBAAKnC,UAAU,iBACZO,EAAmB6B,MAAM,EAAGjB,GAAckB,KAAI,SAAC7B,EAAQ8B,GAAT,OAC3C,wBAAIC,IAAKD,EAAOE,QAAS,kBAAIjB,EAAoBf,EAAS,YAAYA,MAEzED,EAAmBkC,OAAOtB,GACzB,uBAAGqB,QAAShB,KAAKP,mBAAjB,UAAwCG,EAAxC,aAE6B,IAA9Bb,EAAmBkC,QAAiC,KAAjBnC,GAClC,wBAAIN,UAAU,OAAO0C,UAAQ,GAA7B,WACOpC,EADP,eAEGsB,GAAc,4BAAQ5B,UAAU,aAAawC,QAAShB,KAAKH,aAAcqB,SAAUpB,GAArE,wB,GAtEGqB,a,QCFnBC,E,OAAAA,EAAMC,OAAO,CAC1BC,QAAS,6BACTC,aAAc,SCmFDC,E,kDAlFb,WAAYvD,GAAO,IAAD,8BAChB,cAAMA,IAcRwD,iBAfkB,sBAeC,8BAAAnC,EAAA,+EAEMoC,EAAMC,IAAI,cAFhB,UAGM,OADfC,EAFS,QAGLC,OAHK,uBAIbC,MAAM,iDAJO,mBAKN,GALM,OAQTjD,EAAc+C,EAAOG,KAAKC,UAChC,EAAKzC,SAAS,CAAEV,gBATD,kDAWfiD,MAAM,iDAXS,0DAfD,EA8BlB/B,oBA9BkB,uCA8BI,WAAOjB,EAAcmD,GAArB,SAAA3C,EAAA,yDACR,QAAT2C,EADiB,0CAGKP,EAAMC,IAAN,2BAA8B7C,IAHnC,UAIK,MAJL,OAIN+C,OAJM,uBAKdC,MAAM,iDALQ,mBAMP,GANO,OAQhBA,MAAM,0BACN,EAAKL,mBATW,kDAYS,MAAtB,KAAES,SAASL,QACZC,MAAM,0CAbQ,gCAiBH,WAATG,GACN,EAAK1C,SAAS,CAAC4C,gBAAkBrD,IAlBf,0DA9BJ,0DAoDlBsD,WAAa,SAAAC,GACX,IAAMjC,EAAsB,UAARiC,EACpB,EAAK9C,SAAS,CAAC+C,WAAYD,EAAKjC,gBApDhC,EAAKZ,MAAM,CACTX,YAAc,GACdsD,gBAAkB,GAClB/B,YAAa,EACbR,UAAY,EACZ0C,WAAY,SAPE,E,gEAYhBtC,KAAKyB,qB,+BA6CE,IAAD,SACsEzB,KAAKR,MAAzEX,EADF,EACEA,YAAasD,EADf,EACeA,gBAAiB/B,EADhC,EACgCA,WAAYR,EAD5C,EAC4CA,UAAW0C,EADvD,EACuDA,WAE7D,OACE,yBAAK9D,UAAU,OACb,yBAAKA,UAAU,gBAAf,iBAEE,uBAAGA,UAAyB,UAAb8D,EAAsB,SAAS,GAC5CtB,QAAS,kBAAI,EAAKoB,WAAW,WAD/B,SAFF,IAOE,uBAAG5D,UAAyB,SAAb8D,EAAqB,SAAS,GAC3CtB,QAAS,kBAAI,EAAKoB,WAAW,UAD/B,SAKF,kBAAC,EAAD,CAAqBvD,YAAaA,EAAauB,WAAYA,EAAYR,UAAWA,EAAWG,oBAAqBC,KAAKD,sBACvH,6BACA,wDAA0BoC,S,GA7EhBhB,aCGlBoB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.7e2f668f.chunk.js","sourcesContent":["import React from 'react';\r\nimport Accordion from 'react-bootstrap/Accordion';\r\nimport Card from 'react-bootstrap/Card'\r\n\r\nfunction AccordionComponent(props){\r\n  return(\r\n    <Accordion defaultActiveKey=\"0\">\r\n      <Card>\r\n        <Accordion.Toggle eventKey=\"0\">\r\n          {props.title}\r\n          <i className=\"fa fa-angle-down\"></i>\r\n        </Accordion.Toggle>\r\n        <Accordion.Collapse eventKey=\"0\">\r\n          <Card.Body>\r\n            {props.children}\r\n          </Card.Body>\r\n        </Accordion.Collapse>\r\n      </Card>\r\n    </Accordion>\r\n  )\r\n}\r\n\r\nexport default AccordionComponent;","export function filterCountries(countryList,CountryInput){\r\n  let displayCountryList = [];\r\n  for(let country of countryList){\r\n    if(country.indexOf(CountryInput) > -1){\r\n      displayCountryList.push(country);\r\n    }\r\n  }\r\n  return displayCountryList;\r\n}","import React, { Component } from 'react';\r\nimport AccordionComponent from './common/AccordionComponent'\r\nimport { filterCountries } from './utils/Utils';\r\n\r\nclass SmartDropDownSearch extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      CountryInput:'',\r\n      displayCountryList: this.props.countryList,\r\n      displayLimit: this.props.noOfItems,\r\n      disableAddBtn: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.searchField.focus()\r\n  }\r\n\r\n  async componentDidUpdate(prevProps){\r\n    if(prevProps.countryList !== this.props.countryList){\r\n      if(this.props.countryList){\r\n        await this.setState({\r\n          displayCountryList : this.props.countryList,\r\n          disableAddBtn: false\r\n        });\r\n        this.searchCountry(this.state.CountryInput)\r\n      }\r\n    }\r\n  }\r\n\r\n  searchCountry = async value => {\r\n    await this.setState({CountryInput : value});\r\n    const countryList = this.props.countryList;\r\n    const CountryInput = this.state.CountryInput;\r\n    const displayCountryList = filterCountries(countryList,CountryInput);\r\n    this.setState({displayCountryList});\r\n  }\r\n\r\n  increaseDispLimit = () => {\r\n    const oldLimit = this.state.displayLimit;\r\n    const newlimit = oldLimit + this.props.noOfItems;\r\n    this.setState({displayLimit: newlimit})\r\n  }\r\n\r\n  fnAddCountry = async () => {\r\n    const { CountryInput } = this.state;\r\n    await this.setState({\r\n      disableAddBtn: true\r\n    });\r\n    this.props.addAndSelectHandler(CountryInput, 'Add');\r\n  }\r\n\r\n  render(){\r\n    const { CountryInput, displayCountryList, displayLimit, disableAddBtn } = this.state;\r\n    const { noOfItems, privilidge, addAndSelectHandler } = this.props;\r\n    return (\r\n      <div className=\"smart-search\">\r\n        <AccordionComponent title=\"Select a location\">\r\n          <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\r\n          <input type=\"text\" value={CountryInput}\r\n            onChange={e => this.searchCountry(e.target.value)}\r\n            ref={d=>this.searchField=d}\r\n            />\r\n          <div className=\"search-result\">\r\n            {displayCountryList.slice(0, displayLimit).map((country,index) => (\r\n                <li key={index} onClick={()=>addAndSelectHandler(country, 'Select')}>{country}</li>\r\n            ))}\r\n            {displayCountryList.length>displayLimit &&\r\n              <p onClick={this.increaseDispLimit}>{`${noOfItems} more...`}</p>\r\n            }\r\n            {displayCountryList.length === 0 && CountryInput !== \"\"  && \r\n              <li className=\"mt-1\" disabled>\r\n                {`\"${CountryInput}\" not found`}\r\n                {privilidge && <button className=\"add-select\" onClick={this.fnAddCountry} disabled={disableAddBtn}>Add & select</button>}\r\n              </li>\r\n            }\r\n          </div>\r\n        </AccordionComponent>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SmartDropDownSearch;\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://13.57.235.126:5000/\",\r\n  responseType: \"json\"\r\n});","import React, {Component} from 'react';\nimport SmartDropDownSearch from './SmartDropDownSearch';\nimport Axios from './utils/Axios'\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state={\n      countryList : [],\n      selectedCountry : '',\n      privilidge : true,\n      noOfItems : 5,\n      loggedInAs: 'admin'\n    }\n  }\n\n  componentDidMount() {\n    this.fnGetCountryList();\n  }\n\n  fnGetCountryList = async () => {\n    try{\n      const result = await Axios.get('/countries');\n      if(result.status !== 200){ // if Response Status is not 200\n        alert(\"something went wrong! Please try again later.\");\n        return false;\n      }\n\n      const countryList = result.data.countries;\n      this.setState({ countryList});\n    } catch (e) {\n      alert(`something went wrong! Please try again later.`);\n    }\n  }\n\n  addAndSelectHandler = async (CountryInput, flag) => {\n    if(flag === \"Add\"){  // In case user clicks on Add Button\n      try{\n        const result = await Axios.get(`/addcountry?name=${CountryInput}`);\n        if(result.status !== 200){ // if Response Status is not 200\n          alert(\"something went wrong! Please try again later.\");\n          return false;\n        }\n        alert(\"Added Successfully !!!\");\n        this.fnGetCountryList();\n      }\n      catch(e){\n        if(e.response.status === 500){\n          alert(\"You are not allowed to add duplicate!!\")\n        }\n      }\n    }\n    else if(flag === \"Select\") { // In case user selects any country\n      this.setState({selectedCountry : CountryInput})\n    }\n  }\n\n  changeUser = val => {\n    const privilidge = (val === 'admin') ? true : false;\n    this.setState({loggedInAs: val, privilidge})\n  }\n\n  render(){\n    const { countryList, selectedCountry, privilidge, noOfItems, loggedInAs } = this.state;\n    \n    return (\n      <div className=\"App\">\n        <div className=\"loginSection\">\n          Logged In As :\n          <p className={(loggedInAs==='admin')?'active':''}\n            onClick={()=>this.changeUser('admin')}>\n            Admin\n          </p>\n          |\n          <p className={(loggedInAs==='user')?'active':''} \n            onClick={()=>this.changeUser('user')}>\n            User\n          </p>\n        </div>\n        <SmartDropDownSearch countryList={countryList} privilidge={privilidge} noOfItems={noOfItems} addAndSelectHandler={this.addAndSelectHandler} />\n        <br/>\n        <p>{`Selected Country : ${selectedCountry}`}</p>\n    </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport \"font-awesome/css/font-awesome.css\"\nimport './index.css';\nimport App from './Components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}